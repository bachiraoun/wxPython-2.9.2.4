<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: wxTextDataObject Class Reference</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Fri Sep 9 2011 10:56:09"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="wxtabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>wxTextDataObject Class Reference<br/>
<small>
[<a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="wxTextDataObject" --><!-- doxytag: inherits="wxDataObjectSimple" -->
<p><code>#include &lt;wx/dataobj.h&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for wxTextDataObject:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classwx_text_data_object__inherit__graph.png" border="0" usemap="#wx_text_data_object_inherit__map" alt="Inheritance graph"/></div>
<map name="wx_text_data_object_inherit__map" id="wx_text_data_object_inherit__map">
<area shape="rect" id="node7" href="classwx_u_r_l_data_object.html" title="wxURLDataObject is a wxDataObject containing an URL and can be used e.g." alt="" coords="12,246,140,277"/><area shape="rect" id="node2" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class." alt="" coords="5,86,147,117"/><area shape="rect" id="node4" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped..." alt="" coords="25,6,127,37"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a> is a specialization of <a class="el" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class.">wxDataObjectSimple</a> for text data. </p>
<p>It can be used without change to paste data into the <a class="el" href="classwx_clipboard.html" title="A class for manipulating the clipboard.">wxClipboard</a> or a <a class="el" href="classwx_drop_source.html" title="This class represents a source for a drag and drop operation.">wxDropSource</a>. A user may wish to derive a new class from this class for providing text on-demand in order to minimize memory consumption when offering data in several formats, such as plain text and RTF because by default the text is stored in a string in this class, but it might as well be generated when requested. For this, <a class="el" href="classwx_text_data_object.html#a15a488fff1040695932831cbf91dc5c8" title="Returns the data size.">GetTextLength()</a> and <a class="el" href="classwx_text_data_object.html#a6b43294c05885cc8981b37f3c42815bd" title="Returns the text associated with the data object.">GetText()</a> will have to be overridden.</p>
<p>Note that if you already have the text inside a string, you will not achieve any efficiency gain by overriding these functions because copying wxStrings is already a very efficient operation (data is not actually copied because wxStrings are reference counted).</p>
<p><b>wxPython Note:</b> If you wish to create a derived <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a> class in wxPython you should derive the class from wxPyTextDataObject in order to get Python-aware capabilities for the various virtual methods.</p>
<h2></h2>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxcore">wxCore</a></span></div><div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__dnd.html">Clipboard and Drag &amp; Drop</a></span></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="overview_dnd.html">Drag and Drop Overview</a>, <a class="el" href="classwx_data_object.html" title="A wxDataObject represents data that can be copied to or from the clipboard, or dragged and dropped...">wxDataObject</a>, <a class="el" href="classwx_data_object_simple.html" title="This is the simplest possible implementation of the wxDataObject class.">wxDataObjectSimple</a>, <a class="el" href="classwx_file_data_object.html" title="wxFileDataObject is a specialization of wxDataObject for file names.">wxFileDataObject</a>, <a class="el" href="classwx_bitmap_data_object.html" title="wxBitmapDataObject is a specialization of wxDataObject for bitmap data.">wxBitmapDataObject</a> </dd></dl>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#a1d1c7457cb2b89f2df0a11129344c078">wxTextDataObject</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;text=<a class="el" href="interface_2wx_2string_8h.html#a9a321d587166a30017b608dd2d234033">wxEmptyString</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor, may be used to initialise the text (otherwise <a class="el" href="classwx_text_data_object.html#ac6754f3ad536bd0fa99928604ec48e7a" title="Sets the text associated with the data object.">SetText()</a> should be used later).  <a href="#a1d1c7457cb2b89f2df0a11129344c078"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classwx_string.html">wxString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#a6b43294c05885cc8981b37f3c42815bd">GetText</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the text associated with the data object.  <a href="#a6b43294c05885cc8981b37f3c42815bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#a15a488fff1040695932831cbf91dc5c8">GetTextLength</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the data size.  <a href="#a15a488fff1040695932831cbf91dc5c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#ab1a9ad66f48fed3e8eeea799d798eb95">GetFormatCount</a> (<a class="el" href="classwx_data_object.html#a7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a> dir=Get)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 2 under wxMac and wxGTK, where text data coming from the clipboard may be provided as ANSI (<code>wxDF_TEXT</code>) or as Unicode text (<code>wxDF_UNICODETEXT</code>, but only when <code>wxUSE_UNICODE==1</code>).  <a href="#ab1a9ad66f48fed3e8eeea799d798eb95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classwx_data_format.html">wxDataFormat</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#a73b44708bbca270fb80dbf2ca267488e">GetFormat</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the preferred format supported by this object.  <a href="#a73b44708bbca270fb80dbf2ca267488e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#a6ef0b55724e5376e86552db82461c004">GetAllFormats</a> (<a class="el" href="classwx_data_format.html">wxDataFormat</a> *formats, <a class="el" href="classwx_data_object.html#a7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a> dir=Get) const =0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns all the formats supported by <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a>.  <a href="#a6ef0b55724e5376e86552db82461c004"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_text_data_object.html#ac6754f3ad536bd0fa99928604ec48e7a">SetText</a> (const <a class="el" href="classwx_string.html">wxString</a> &amp;strText)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the text associated with the data object.  <a href="#ac6754f3ad536bd0fa99928604ec48e7a"></a><br/></td></tr>
</table>

<p><a href="classwx_text_data_object-members.html">List of all members.</a></p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1d1c7457cb2b89f2df0a11129344c078"></a><!-- doxytag: member="wxTextDataObject::wxTextDataObject" ref="a1d1c7457cb2b89f2df0a11129344c078" args="(const wxString &amp;text=wxEmptyString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxTextDataObject::wxTextDataObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>text</em> = <code><a class="el" href="interface_2wx_2string_8h.html#a9a321d587166a30017b608dd2d234033">wxEmptyString</a></code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor, may be used to initialise the text (otherwise <a class="el" href="classwx_text_data_object.html#ac6754f3ad536bd0fa99928604ec48e7a" title="Sets the text associated with the data object.">SetText()</a> should be used later). </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6ef0b55724e5376e86552db82461c004"></a><!-- doxytag: member="wxTextDataObject::GetAllFormats" ref="a6ef0b55724e5376e86552db82461c004" args="(wxDataFormat *formats, Direction dir=Get) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxTextDataObject::GetAllFormats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_data_format.html">wxDataFormat</a> *&nbsp;</td>
          <td class="paramname"> <em>formats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwx_data_object.html#a7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns all the formats supported by <a class="el" href="classwx_text_data_object.html" title="wxTextDataObject is a specialization of wxDataObjectSimple for text data.">wxTextDataObject</a>. </p>
<p>Under wxMac and wxGTK they are <code>wxDF_TEXT</code> and <code>wxDF_UNICODETEXT</code>, under other ports returns only one of the two, depending on the build mode. </p>

<p>Implements <a class="el" href="classwx_data_object.html#a71abcc4eb2229e936ea53ebdefa53bef">wxDataObject</a>.</p>

</div>
</div>
<a class="anchor" id="a73b44708bbca270fb80dbf2ca267488e"></a><!-- doxytag: member="wxTextDataObject::GetFormat" ref="a73b44708bbca270fb80dbf2ca267488e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classwx_data_format.html">wxDataFormat</a>&amp; wxTextDataObject::GetFormat </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the preferred format supported by this object. </p>
<p>This is <code>wxDF_TEXT</code> or <code>wxDF_UNICODETEXT</code> depending on the platform and from the build mode (i.e. from <code>wxUSE_UNICODE</code>). </p>

<p>Reimplemented from <a class="el" href="classwx_data_object_simple.html#abd9099ed166b9fc902106f06db8a8338">wxDataObjectSimple</a>.</p>

</div>
</div>
<a class="anchor" id="ab1a9ad66f48fed3e8eeea799d798eb95"></a><!-- doxytag: member="wxTextDataObject::GetFormatCount" ref="ab1a9ad66f48fed3e8eeea799d798eb95" args="(Direction dir=Get)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t wxTextDataObject::GetFormatCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwx_data_object.html#a7623fd02a6bef5dba7c96ff0a1a692ef">Direction</a>&nbsp;</td>
          <td class="paramname"> <em>dir</em> = <code>Get</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns 2 under wxMac and wxGTK, where text data coming from the clipboard may be provided as ANSI (<code>wxDF_TEXT</code>) or as Unicode text (<code>wxDF_UNICODETEXT</code>, but only when <code>wxUSE_UNICODE==1</code>). </p>
<p>Returns 1 under other platforms (e.g. wxMSW) or when building in ANSI mode (<code>wxUSE_UNICODE==0</code>). </p>

</div>
</div>
<a class="anchor" id="a6b43294c05885cc8981b37f3c42815bd"></a><!-- doxytag: member="wxTextDataObject::GetText" ref="a6b43294c05885cc8981b37f3c42815bd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classwx_string.html">wxString</a> wxTextDataObject::GetText </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the text associated with the data object. </p>
<p>You may wish to override this method when offering data on-demand, but this is not required by wxWidgets' internals. Use this method to get data in text form from the <a class="el" href="classwx_clipboard.html" title="A class for manipulating the clipboard.">wxClipboard</a>. </p>

</div>
</div>
<a class="anchor" id="a15a488fff1040695932831cbf91dc5c8"></a><!-- doxytag: member="wxTextDataObject::GetTextLength" ref="a15a488fff1040695932831cbf91dc5c8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t wxTextDataObject::GetTextLength </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the data size. </p>
<p>By default, returns the size of the text data set in the constructor or using <a class="el" href="classwx_text_data_object.html#ac6754f3ad536bd0fa99928604ec48e7a" title="Sets the text associated with the data object.">SetText()</a>. This can be overridden to provide text size data on-demand. It is recommended to return the text length plus 1 for a trailing zero, but this is not strictly required. </p>

</div>
</div>
<a class="anchor" id="ac6754f3ad536bd0fa99928604ec48e7a"></a><!-- doxytag: member="wxTextDataObject::SetText" ref="ac6754f3ad536bd0fa99928604ec48e7a" args="(const wxString &amp;strText)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxTextDataObject::SetText </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwx_string.html">wxString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>strText</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the text associated with the data object. </p>
<p>This method is called when the data object receives the data and, by default, copies the text into the member variable. If you want to process the text on the fly you may wish to override this function. </p>

</div>
</div>
</div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Fri Sep 9 2011 10:56:09</tt> by <a href="http://www.doxygen.org">Doxygen</a> 1.7.1</p></td>
    <td valign="middle" align="right"><p>[ <a href="#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
